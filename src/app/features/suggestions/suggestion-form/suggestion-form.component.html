<div class="form-container">
  <div class="form-header">
    <h1>üìù Ajouter une Suggestion</h1>
    <p class="subtitle">Partagez vos id√©es pour am√©liorer notre organisation</p>
  </div>

  <form [formGroup]="suggestionForm" (ngSubmit)="onSubmit()" class="suggestion-form">
    
    <!-- Champ Titre -->
    <div class="form-group">
      <label for="title">Titre <span class="required">*</span></label>
      <input 
        type="text" 
        id="title" 
        formControlName="title"
        class="form-control"
        [class.invalid]="title?.invalid && title?.touched"
        placeholder="Entrez le titre de votre suggestion"
      />
      
      <!-- Messages d'erreur pour le titre -->
      <div class="error-messages" *ngIf="title?.invalid && title?.touched">
        <small class="error" *ngIf="title?.errors?.['required']">
          ‚ö†Ô∏è Le titre est obligatoire.
        </small>
        <small class="error" *ngIf="title?.errors?.['minlength']">
          ‚ö†Ô∏è Le titre doit contenir au minimum 5 caract√®res.
        </small>
        <small class="error" *ngIf="title?.errors?.['pattern']">
          ‚ö†Ô∏è Le titre doit commencer par une majuscule et ne contenir que des lettres.
        </small>
      </div>
    </div>

    <!-- Champ Description -->
    <div class="form-group">
      <label for="description">Description <span class="required">*</span></label>
      <textarea 
        id="description" 
        formControlName="description"
        class="form-control"
        [class.invalid]="description?.invalid && description?.touched"
        rows="5"
        placeholder="D√©crivez votre suggestion en d√©tail (minimum 30 caract√®res)"
      ></textarea>
      
      <!-- Compteur de caract√®res -->
      <div class="character-count">
        {{ description?.value?.length || 0 }} / 30 caract√®res minimum
      </div>
      
      <!-- Messages d'erreur pour la description -->
      <div class="error-messages" *ngIf="description?.invalid && description?.touched">
        <small class="error" *ngIf="description?.errors?.['required']">
          ‚ö†Ô∏è La description est obligatoire.
        </small>
        <small class="error" *ngIf="description?.errors?.['minlength']">
          ‚ö†Ô∏è La description doit contenir au minimum 30 caract√®res.
        </small>
      </div>
    </div>

    <!-- Champ Cat√©gorie -->
    <div class="form-group">
      <label for="category">Cat√©gorie <span class="required">*</span></label>
      <select 
        id="category" 
        formControlName="category"
        class="form-control"
        [class.invalid]="category?.invalid && category?.touched"
      >
        <option value="" disabled selected>-- S√©lectionnez une cat√©gorie --</option>
        <option *ngFor="let cat of categories" [value]="cat">
          {{ cat }}
        </option>
      </select>
      
      <!-- Messages d'erreur pour la cat√©gorie -->
      <div class="error-messages" *ngIf="category?.invalid && category?.touched">
        <small class="error" *ngIf="category?.errors?.['required']">
          ‚ö†Ô∏è La cat√©gorie est obligatoire.
        </small>
      </div>
    </div>

    <!-- Champ Date (readonly) -->
    <div class="form-group">
      <label for="date">Date</label>
      <input 
        type="date" 
        id="date" 
        formControlName="date"
        class="form-control readonly"
        readonly
      />
    </div>

    <!-- Champ Status (readonly) -->
    <div class="form-group">
      <label for="status">Status</label>
      <input 
        type="text" 
        id="status" 
        formControlName="status"
        class="form-control readonly"
        readonly
      />
    </div>

    <!-- Info sur la validation -->
    <div class="form-info" *ngIf="suggestionForm.invalid">
      <p>
        ‚ÑπÔ∏è Veuillez remplir tous les champs obligatoires correctement pour soumettre votre suggestion.
      </p>
    </div>

    <!-- Boutons d'action -->
    <div class="form-actions">
      <button 
        type="submit" 
        class="btn btn-submit"
        [disabled]="suggestionForm.invalid"
      >
        ‚úì Soumettre
      </button>
      <button 
        type="button" 
        class="btn btn-cancel"
        (click)="onCancel()"
      >
        ‚úó Annuler
      </button>
    </div>

    <!-- √âtat du formulaire (pour debug - √† retirer en production) -->
    <div class="debug-info" *ngIf="false">
      <p><strong>√âtat du formulaire :</strong> {{ suggestionForm.valid ? 'VALIDE ‚úì' : 'INVALIDE ‚úó' }}</p>
      <p><strong>Valeurs :</strong></p>
      <pre>{{ suggestionForm.value | json }}</pre>
    </div>
  </form>
  <div class="form-header">
    <h1>{{ isEditMode ? '‚úèÔ∏è Modifier la Suggestion' : 'üìù Ajouter une Suggestion' }}</h1>
    <p class="subtitle">{{ isEditMode ? 'Modifiez les informations de votre suggestion' : 'Partagez vos id√©es pour am√©liorer notre organisation' }}</p>
  </div>
</div>